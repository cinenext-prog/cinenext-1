{"version":3,"file":"admin-BdN_Xj_s.js","sources":["../../admin.js"],"sourcesContent":["const STORAGE_KEY = 'cinenext_videos';\nconst COMPAT_STORAGE_KEY = 'legacyVideos';\n\nconst form = document.querySelector('#video-form');\nconst titleInput = document.querySelector('#title');\nconst playbackIdInput = document.querySelector('#playbackId');\nconst playbackUrlInput = document.querySelector('#playbackUrl');\nconst episodeInput = document.querySelector('#episode');\nconst unlockTypeInput = document.querySelector('#unlockType');\nconst nftAddressInput = document.querySelector('#nftCollectionAddress');\nconst priceInput = document.querySelector('#price');\nconst actorsInput = document.querySelector('#actors');\nconst keywordsInput = document.querySelector('#keywords');\n\nconst tbody = document.querySelector('#video-tbody');\nconst table = document.querySelector('#video-table');\nconst emptyState = document.querySelector('#empty-state');\nconst toast = document.querySelector('#toast');\n\nconst resetFormBtn = document.querySelector('#reset-form');\nconst submitBtn = document.querySelector('#submit-btn');\nconst formTitle = document.querySelector('#form-title');\nconst refreshBtn = document.querySelector('#refresh-list');\nconst clearAllBtn = document.querySelector('#clear-all');\nconst exportBtn = document.querySelector('#export-json');\nconst importInput = document.querySelector('#import-json');\n\nlet editingId = '';\n\nconst safeParse = (raw, fallback) => {\n  try {\n    return JSON.parse(raw);\n  } catch {\n    return fallback;\n  }\n};\n\nconst readList = () => {\n  const raw = localStorage.getItem(STORAGE_KEY) || localStorage.getItem(COMPAT_STORAGE_KEY);\n  if (!raw) return [];\n  const data = safeParse(raw, []);\n  return Array.isArray(data) ? data : [];\n};\n\nconst writeList = (list) => {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(list));\n  localStorage.setItem(COMPAT_STORAGE_KEY, JSON.stringify(list));\n};\n\nconst showToast = (text, isError = false) => {\n  toast.textContent = text;\n  toast.style.color = isError ? '#ff9d9d' : '#89d6a8';\n  window.setTimeout(() => {\n    if (toast.textContent === text) {\n      toast.textContent = '';\n    }\n  }, 2200);\n};\n\nconst parseCsv = (value) =>\n  String(value || '')\n    .split(',')\n    .map((v) => v.trim())\n    .filter(Boolean);\n\nconst randomStat = (min, max) => Math.floor(min + Math.random() * (max - min));\nconst looksLikeLivepeerPlaybackId = (value) => /^[a-zA-Z0-9_-]{8,}$/.test(value);\nconst looksLikePlayableUrl = (value) => /^https:\\/\\/.+\\.(m3u8|mp4)(\\?.*)?$/i.test(value);\n\nconst toRow = (video, index) => {\n  const tr = document.createElement('tr');\n  tr.innerHTML = `\n    <td>${video.title || '-'}</td>\n    <td>${video.episode || index + 1}</td>\n    <td>${video.playbackId || '-'}</td>\n    <td>${video.unlockType === 'nft' ? 'NFT' : '免费'}</td>\n    <td class=\"actions-cell\">\n      <button type=\"button\" class=\"secondary\" data-action=\"edit\" data-id=\"${video.id}\">编辑</button>\n      <button type=\"button\" data-action=\"delete\" data-id=\"${video.id}\">删除</button>\n    </td>\n  `;\n  return tr;\n};\n\nconst resetFormState = () => {\n  editingId = '';\n  formTitle.textContent = '新增短剧';\n  submitBtn.textContent = '添加到列表';\n  resetFormBtn.textContent = '清空输入';\n\n  form.reset();\n  episodeInput.value = '1';\n  priceInput.value = '0.5';\n  unlockTypeInput.value = 'free';\n  playbackUrlInput.value = '';\n};\n\nconst startEdit = (video) => {\n  editingId = String(video.id);\n  formTitle.textContent = '编辑短剧';\n  submitBtn.textContent = '保存修改';\n  resetFormBtn.textContent = '取消编辑';\n\n  titleInput.value = String(video.title || '');\n  playbackIdInput.value = String(video.playbackId || '');\n  playbackUrlInput.value = String(video.playbackUrl || '');\n  episodeInput.value = String(Math.max(1, Number(video.episode || 1)));\n  unlockTypeInput.value = video.unlockType === 'nft' ? 'nft' : 'free';\n  nftAddressInput.value = String(video.nftCollectionAddress || '');\n  priceInput.value = String(video.price || '0.5');\n  actorsInput.value = Array.isArray(video.actors) ? video.actors.join(', ') : '';\n  keywordsInput.value = Array.isArray(video.keywords) ? video.keywords.join(', ') : '';\n\n  form.scrollIntoView({ behavior: 'smooth', block: 'start' });\n};\n\nconst render = () => {\n  const list = readList();\n  tbody.innerHTML = '';\n\n  if (list.length === 0) {\n    table.hidden = true;\n    emptyState.hidden = false;\n    return;\n  }\n\n  table.hidden = false;\n  emptyState.hidden = true;\n  list.forEach((video, index) => {\n    tbody.appendChild(toRow(video, index));\n  });\n};\n\nconst buildVideo = () => {\n  const title = titleInput.value.trim();\n  const playbackId = playbackIdInput.value.trim();\n  const playbackUrl = playbackUrlInput.value.trim();\n\n  if (!title) {\n    throw new Error('请填写剧名');\n  }\n  if (!playbackId) {\n    throw new Error('请填写 Playback ID');\n  }\n  if (!looksLikeLivepeerPlaybackId(playbackId)) {\n    throw new Error('Playback ID 格式不正确，请填写 Livepeer 真实 Playback ID（不要填 1/2/3）');\n  }\n  if (playbackUrl && !looksLikePlayableUrl(playbackUrl)) {\n    throw new Error('播放地址格式不正确，请填写 https 开头的 m3u8/mp4 链接');\n  }\n\n  const unlockType = unlockTypeInput.value === 'nft' ? 'nft' : 'free';\n  const episode = Math.max(1, Number(episodeInput.value || 1));\n\n  return {\n    id: `legacy-${Date.now()}-${Math.random().toString(36).slice(2, 7)}`,\n    title,\n    playbackId,\n    playbackUrl: playbackUrl || `https://livepeercdn.com/hls/${playbackId}/index.m3u8`,\n    unlockType,\n    nftCollectionAddress: unlockType === 'nft' ? nftAddressInput.value.trim() : '',\n    price: String(priceInput.value || '0.5'),\n    actors: parseCsv(actorsInput.value),\n    keywords: parseCsv(keywordsInput.value),\n    episode,\n    likes: randomStat(1000, 6000),\n    views: randomStat(10000, 300000),\n  };\n};\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n\n  try {\n    const video = buildVideo();\n    const list = readList();\n    const conflict = list.some(\n      (item) =>\n        String(item.id) !== String(editingId) &&\n        item.playbackId === video.playbackId &&\n        Number(item.episode || 1) === Number(video.episode || 1)\n    );\n\n    if (conflict) {\n      showToast('该 Playback ID + 集数 组合已存在', true);\n      return;\n    }\n\n    const existingIndex = list.findIndex((item) => String(item.id) === String(editingId));\n    if (existingIndex >= 0) {\n      list[existingIndex] = {\n        ...list[existingIndex],\n        ...video,\n        id: list[existingIndex].id,\n      };\n    } else {\n      list.unshift(video);\n    }\n\n    writeList(list);\n    resetFormState();\n    render();\n    showToast(existingIndex >= 0 ? '已保存修改' : '已添加短剧');\n  } catch (error) {\n    showToast(error.message || '添加失败', true);\n  }\n});\n\ntbody.addEventListener('click', (event) => {\n  const target = event.target;\n  if (!(target instanceof HTMLElement)) return;\n\n  const action = target.dataset.action;\n  const id = target.dataset.id;\n  if (!id) return;\n\n  const list = readList();\n\n  if (action === 'edit') {\n    const current = list.find((item) => String(item.id) === String(id));\n    if (!current) {\n      showToast('未找到要编辑的记录', true);\n      return;\n    }\n    startEdit(current);\n    return;\n  }\n\n  if (action !== 'delete') return;\n\n  const next = list.filter((item) => item.id !== id);\n  writeList(next);\n\n  if (String(editingId) === String(id)) {\n    resetFormState();\n  }\n\n  render();\n  showToast('已删除');\n});\n\nresetFormBtn.addEventListener('click', () => {\n  resetFormState();\n});\n\nrefreshBtn.addEventListener('click', () => {\n  render();\n  showToast('已刷新');\n});\n\nclearAllBtn.addEventListener('click', () => {\n  const ok = window.confirm('确认清空全部短剧吗？');\n  if (!ok) return;\n  writeList([]);\n  resetFormState();\n  render();\n  showToast('已清空');\n});\n\nexportBtn.addEventListener('click', () => {\n  const list = readList();\n  const blob = new Blob([JSON.stringify(list, null, 2)], { type: 'application/json' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = 'cinenext_videos.json';\n  a.click();\n  URL.revokeObjectURL(url);\n  showToast('已导出 JSON');\n});\n\nimportInput.addEventListener('change', async () => {\n  const file = importInput.files?.[0];\n  if (!file) return;\n\n  try {\n    const text = await file.text();\n    const parsed = safeParse(text, null);\n    if (!Array.isArray(parsed)) {\n      throw new Error('JSON 格式无效，必须是数组');\n    }\n\n    const normalized = parsed\n      .map((item, index) => ({\n        id: String(item.id || `legacy-import-${Date.now()}-${index}`),\n        title: String(item.title || `短剧 ${index + 1}`),\n        playbackId: String(item.playbackId || '').trim(),\n        playbackUrl: String(item.playbackUrl || `https://livepeercdn.com/hls/${item.playbackId || ''}/index.m3u8`),\n        unlockType: item.unlockType === 'nft' ? 'nft' : 'free',\n        nftCollectionAddress: String(item.nftCollectionAddress || ''),\n        price: String(item.price || '0.5'),\n        actors: Array.isArray(item.actors) ? item.actors : [],\n        keywords: Array.isArray(item.keywords) ? item.keywords : [],\n        episode: Math.max(1, Number(item.episode || index + 1)),\n        likes: Number(item.likes || randomStat(1000, 6000)),\n        views: Number(item.views || randomStat(10000, 300000)),\n      }))\n      .filter((item) => item.playbackId);\n\n    writeList(normalized);\n    resetFormState();\n    render();\n    showToast('导入成功');\n  } catch (error) {\n    showToast(error.message || '导入失败', true);\n  } finally {\n    importInput.value = '';\n  }\n});\n\nresetFormState();\nrender();\n"],"names":["STORAGE_KEY","COMPAT_STORAGE_KEY","form","titleInput","playbackIdInput","playbackUrlInput","episodeInput","unlockTypeInput","nftAddressInput","priceInput","actorsInput","keywordsInput","tbody","table","emptyState","toast","resetFormBtn","submitBtn","formTitle","refreshBtn","clearAllBtn","exportBtn","importInput","editingId","safeParse","raw","fallback","readList","data","writeList","list","showToast","text","isError","parseCsv","value","v","randomStat","min","max","looksLikeLivepeerPlaybackId","looksLikePlayableUrl","toRow","video","index","tr","resetFormState","startEdit","render","buildVideo","title","playbackId","playbackUrl","unlockType","episode","event","item","existingIndex","error","target","action","id","current","next","blob","url","a","file","_a","parsed","normalized"],"mappings":"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"}