<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CineNext 剧集管理</title>
    <script type="module" crossorigin src="/cinenext-1/assets/admin-BoB2TUgs.js"></script>
    <link rel="modulepreload" crossorigin href="/cinenext-1/assets/modulepreload-polyfill-B5Qt9EMX.js">
    <link rel="stylesheet" crossorigin href="/cinenext-1/assets/admin-jRsOWpb5.css">
  </head>
  <body>
    <main class="page">
      <header class="header">
        <h1>短剧管理页面</h1>
        <p>在网页里维护短剧列表，保存后写入浏览器本地存储（键名：cinenext_videos）。</p>
      </header>

      <section class="panel">
        <h2>新增短剧</h2>
        <form id="video-form" class="form-grid">
          <label>
            剧名
            <input id="title" required placeholder="例如：总裁的替身新娘" />
          </label>

          <label>
            Playback ID
            <input id="playbackId" required placeholder="例如：abcd1234efgh" />
          </label>

          <label>
            集数
            <input id="episode" type="number" min="1" step="1" value="1" />
          </label>

          <label>
            解锁类型
            <select id="unlockType">
              <option value="free">免费</option>
              <option value="nft">NFT 解锁</option>
            </select>
          </label>

          <label>
            NFT 合约地址（可选）
            <input id="nftCollectionAddress" placeholder="仅 NFT 解锁时填写" />
          </label>

          <label>
            价格 TON（可选）
            <input id="price" type="number" min="0" step="0.1" value="0.5" />
          </label>

          <label>
            演员（可选，逗号分隔）
            <input id="actors" placeholder="演员A, 演员B" />
          </label>

          <label>
            关键词（可选，逗号分隔）
            <input id="keywords" placeholder="逆袭, 豪门, 甜宠" />
          </label>

          <div class="actions">
            <button type="submit">添加到列表</button>
            <button type="button" id="reset-form" class="secondary">清空输入</button>
          </div>
        </form>
      </section>

      <section class="panel">
        <div class="list-head">
          <h2>当前短剧列表</h2>
          <div class="actions-row">
            <button id="refresh-list" class="secondary">刷新</button>
            <button id="clear-all" class="danger">清空全部</button>
          </div>
        </div>

        <div id="empty-state" class="empty">当前没有短剧，请先添加。</div>

        <table id="video-table" class="table" hidden>
          <thead>
            <tr>
              <th>剧名</th>
              <th>集数</th>
              <th>Playback ID</th>
              <th>类型</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody id="video-tbody"></tbody>
        </table>
      </section>

      <section class="panel">
        <h2>导入 / 导出</h2>
        <div class="actions-row">
          <button id="export-json" class="secondary">导出 JSON</button>
          <label class="import-btn">
            导入 JSON
            <input id="import-json" type="file" accept="application/json" hidden />
          </label>
        </div>
        <p class="tip">导入会覆盖当前列表，请先导出备份。</p>
      </section>

      <p id="toast" class="toast" aria-live="polite"></p>
    </main>

  </body>
</html>
